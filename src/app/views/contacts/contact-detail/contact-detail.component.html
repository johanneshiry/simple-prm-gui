<c-container>
  <div *ngIf="contact; else noContactSelected">
    <c-row class="align-items-start">
      <c-col xs="5" xxl="2">
        <div class="p-3">
          <c-avatar
            *ngIf="contact.photoBackgroundUrl; else noAvatar"
            size="xxxl"
            class="contact-avatar"
            style="background-image: {{ contact.photoBackgroundUrl }};"
          ></c-avatar>
          <ng-template #noAvatar>
            <c-avatar
              size="xxxl"
              class="contact_avatar"
              [color]="avatarBackgroundColor"
              >{{ contact.initials }}</c-avatar
            >
          </ng-template>
        </div>
      </c-col>
      <c-col xs="7" xxl="10">
        <c-row class="align-items-start">
          <c-col class="p-1">
            <div>
              <h1 class="display-5">{{ contact.fn }}</h1>
            </div>
          </c-col>
        </c-row>
        <c-row *ngIf="contact.age">
          <c-col class="p-1">
            <label>Age: {{ contact.age }}</label>
          </c-col>
        </c-row>
      </c-col>
    </c-row>
    <c-row>
      <c-col xs="4">
        <c-row>
          <c-col>
            <c-card class="mb-4">
              <c-card-header>
                <strong>Addresses</strong>
              </c-card-header>
              <c-card-body>
                <div *ngIf="contact.addresses; else noAdr">
                  <div cListGroupItem *ngFor="let address of contact.addresses">
                    {{ address.type }}<br />
                    {{ address.street }}<br />
                    {{ address.postalCode }} {{ address.location }}
                  </div>
                </div>
                <ng-template #noAdr>
                  <p>No addresses available!</p>
                </ng-template>
              </c-card-body>
            </c-card>
          </c-col>
        </c-row>
      </c-col>
      <c-col xs="8">
        <c-row>
          <c-col>
            <c-card class="mb-4">
              <c-card-header>
                <strong>Reminders</strong>
              </c-card-header>
              <c-card-body>
                <div *ngIf="reminders.length > 0; else noReminder">
                  <div cListGroupItem *ngFor="let reminder of reminders">
                    <c-row>
                      <c-col xs="4">{{ reminder.contactId }}</c-col>
                      <c-col xs="4">{{ reminder.contactInterval }}</c-col>
                      <c-col xs="4">{{ reminder.lastContacted }}</c-col>
                    </c-row>
                  </div>
                </div>
                <ng-template #noReminder>
                  <div cListGroupItem>
                    <p>No reminders set!</p>
                  </div>
                </ng-template>
                <c-row class="pt-2 justify-content-end">
                  <c-col xs="3" class="border">
                    <button type="button" class="btn prev btn-primary">
                      Create Reminder
                    </button>
                  </c-col>
                </c-row>
              </c-card-body>
            </c-card>
          </c-col>
        </c-row>
      </c-col>
    </c-row>
  </div>
  <ng-template #noContactSelected>
    <div>Please select a contact to display its details!</div>
  </ng-template>
</c-container>
